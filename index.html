<!DOCTYPE html>
<html>

<head>
  <title>KSFA Timer</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Winky+Rough:ital,wght@0,300..900;1,300..900&display=swap"
    rel="stylesheet">
  <style>
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: sans-serif;
      background-color: black;
      color: white;
      overflow: hidden;
      position: relative;
    }

    .background-scroll-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
    }

    .background-row {
      position: absolute;
      width: 100%;
      height: 33.33%; /* Divide into three equal rows */
      overflow: hidden;
    }

    .background-row.row1 {
      top: 0;
    }

    .background-row.row2 {
      top: 33.33%;
    }

    .background-row.row3 {
      top: 66.66%;
    }

    .background-image {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.3;
      background-size: cover;
      background-position: center;
    }

    .background-image.image1 {
      left: 0;
      background-image: url('https://file.garden/aABDpAgY3QmuIiLd/placeholder-image.jpg'); /* Replace with your image URL */
      animation: scrollLeft 30s linear infinite;
    }

    .background-image.image2 {
      right: 0;
      background-image: url('your-image2.jpg'); /* Replace with your image URL */
      animation: scrollRight 40s linear infinite; /* Different speed */
    }

    .background-image.image3 {
      left: 0;
      background-image: url('your-image3.jpg'); /* Replace with your image URL */
      animation: scrollLeftSlow 50s linear infinite; /* Even slower */
    }

    /* Apply specific positioning to images within their rows */
    .background-row.row1 .background-image.image1 {
      top: 0;
    }

    .background-row.row2 .background-image.image2 {
      top: 0;
    }

    .background-row.row3 .background-image.image3 {
      top: 0;
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0%);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    @keyframes scrollRight {
      0% {
        transform: translateX(0%);
      }

      100% {
        transform: translateX(100%);
      }
    }

    @keyframes scrollLeftSlow {
      0% {
        transform: translateX(0%);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    #credits-button,
    #submit-button,
    #music-toggle-button {
      position: absolute;
      top: 20px;
      background-color: rgba(255, 255, 255, 0.2);
      border: none;
      padding: 10px 15px;
      color: white;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
      z-index: 1;
    }

    #credits-button {
      left: 20px;
    }

    #submit-button {
      left: 50%;
      transform: translateX(-50%);
    }

    #music-toggle-button {
      right: 20px;
    }

    #credits-box {
      position: fixed;
      bottom: -100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.8);
      padding: 20px;
      border-radius: 10px;
      transition: bottom 0.5s ease-in-out;
      text-align: center;
      max-width: 80%;
      box-sizing: border-box;
      z-index: 1;
    }

    #credits-box.show {
      bottom: 50%;
      transform: translate(-50%, 50%);
    }

    #timer {
      font-size: 100px;
      text-align: center;
      font-family: 'Winky Rough', sans-serif;
      font-weight: bold;
      letter-spacing: 0.2em;
      white-space: nowrap;
      overflow: hidden;
      max-width: 100%;
      z-index: 1;
    }

    #timer-labels {
      font-size: 20px;
      text-align: center;
      font-family: sans-serif;
      margin-top: 5px;
      letter-spacing: 0.2em;
      white-space: nowrap;
      overflow: hidden;
      max-width: 100%;
      cursor: pointer;
      user-select: none;
      z-index: 1;
    }

    #message {
      font-size: 80px;
      text-align: center;
      opacity: 0;
      transition: opacity 1s ease-in-out,
      color 0.5s linear;
      font-family: 'Pacifico',
      cursive;
      position: relative;
      z-index: 1;
    }

    .confetti {
      position: absolute;
      width: 15px;
      height: 8px;
      pointer-events: none;
      transform-origin: center;
      z-index: 1;
    }

    @media (max-width: 600px) {
      #timer {
        font-size: 60px;
        letter-spacing: 0.1em;
      }

      #timer-labels {
        font-size: 15px;
        letter-spacing: 0.1em;
      }
    }

    .green-text {
      color: green;
      cursor: pointer;
    }

    .orange-text {
      color: orange;
    }

    .red-text {
      color: red;
    }

    .hot-pink-text {
      color: hotpink;
    }

    #music-controls {
      position: fixed;
      top: 60px;
      right: -200px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      transition: right 0.5s ease-in-out;
      background-color: rgba(0, 0, 0, 0.8);
      padding: 10px;
      border-radius: 10px;
      z-index: 1000;
    }

    #music-controls.show {
      right: 20px;
    }

    #music-controls button,
    #music-controls input {
      margin-top: 5px;
      background-color: rgba(255, 255, 255, 0.2);
      border: none;
      padding: 8px 12px;
      color: white;
      cursor: pointer;
      border-radius: 5px;
      width: 150px;
      text-align: left;
      z-index: 1;
    }

    #music-controls input[type="range"] {
      width: 140px;
    }

    #play-pause-button {
      font-size: 1.2em;
      padding: 8px 15px;
    }

    #current-song {
      font-size: 16px;
      margin-bottom: 5px;
    }

    #music-slider {
      width: 150px;
      margin-top: 5px;
    }

    #music-time {
      font-size: 12px;
      margin-bottom: 2px;
    }

    #volume-label {
      font-size: 12px;
      margin-bottom: 2px;
    }

    .bubble {
      position: absolute;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: rgba(173, 216, 230, 0.7);
      pointer-events: auto;
      cursor: pointer;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
      z-index: 1;
    }

    #bubble-button {
      display: none;
      z-index: 1;
    }

    @media (max-width: 600px) {
      .bubble {
        width: 40px;
        height: 40px;
      }
    }
  </style>
</head>

<body>
  <div class="background-scroll-container">
    <div class="background-row row1">
      <div class="background-image image1"></div>
    </div>
    <div class="background-row row2">
      <div class="background-image image2"></div>
    </div>
    <div class="background-row row3">
      <div class="background-image image3"></div>
    </div>
  </div>

  <button id="credits-button">Credits</button>
  <button id="submit-button">Submit</button>
  <button id="music-toggle-button">‚ô´</button>
  <div id="credits-box">
    <p>Created by Samad Slaten</p>
    <p>Picture Senders: <span class="orange-text">Aden Smith</span>, Eryn Alfred, <span class="green-text" id="erin-grogan-link">Erin Grogan</span>,
      Abram Dolby, <span class="hot-pink-text">Suset Solano</span></p>
    <p>People Who Also Helped: <span class="red-text">Roberto Ochoa</span>, <span class="green-text">Kortni Smith</span>,
      Anthony Royal</p>
  </div>
  <div id="music-controls">
    <div id="current-song"></div>
    <button id="play-pause-button">‚ùö‚ùö</button>
    <button id="loop-button">Loop</button>
    <div id="volume-label">Volume</div>
    <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
    <button id="mute-button">Mute</button>
    <button id="prev-button">Previous</button>
    <button id="next-button">Next</button>
    <button id="bubble-button">ü´ß</button>
    <div id="music-time">00:00 / 00:00</div>
    <input type="range" id="music-slider" min="0" max="100" value="0">
  </div>
  <div id="timer"></div>
  <div id="timer-labels">Days Hours Minutes Seconds</div>
  <div id="message">Good Luck Kippsters!</div>

  <script>
    const creditsButton = document.getElementById('credits-button');
    const submitButton = document.getElementById('submit-button');
    const creditsBox = document.getElementById('credits-box');
    const loopButton = document.getElementById('loop-button');
    const volumeSlider = document.getElementById('volume-slider');
    const muteButton = document.getElementById('mute-button');
    const playPauseButton = document.getElementById('play-pause-button');
    const musicToggleButton = document.getElementById('music-toggle-button');
    const musicControls = document.getElementById('music-controls');
    const prevButton = document.getElementById('prev-button');
    const nextButton = document.getElementById('next-button');
    const currentSongDisplay = document.getElementById('current-song');
    const musicSlider = document.getElementById('music-slider');
    const musicTimeDisplay = document.getElementById('music-time');
    const timerLabelsDisplay = document.getElementById('timer-labels');
    const bubbleButton = document.getElementById('bubble-button');
    const erinGroganLink = document.getElementById('erin-grogan-link');

    let musicControlsVisible = false;

    creditsButton.addEventListener('click', () => {
      creditsBox.classList.toggle('show');
    });

    submitButton.addEventListener('click', () => {
      window.location.href = 'mailto:junpey9@gmail.com?subject=Picture%20Suggestion';
    });

    document.addEventListener('click', (event) => {
      if (creditsBox.classList.contains('show') && !creditsBox.contains(event.target) && event.target !== creditsButton) {
        creditsBox.classList.remove('show');
      }
      if (musicControls.classList.contains('show') && !musicControls.contains(event.target) && event.target !== musicToggleButton) {
        musicControls.classList.remove('show');
      }
    });

    musicToggleButton.addEventListener('click', () => {
      musicControls.classList.toggle('show');
      musicControlsVisible = !musicControlsVisible;
    });

    const targetDate = new Date('April 20, 2025 08:30:00 EST');
    const timerDisplay = document.getElementById('timer');
    const messageDisplay = document.getElementById('message');

    const musicFiles = [{
        url: 'https://file.garden/aABDpAgY3QmuIiLd/yume%202kki%20-%20lotus%20waters%20nightcore_sped%20up_%20techno%20condominium%20flying%20event.mp3',
        name: 'Lotus Waters'
      },
      {
        url: 'https://file.garden/aABDpAgY3QmuIiLd/1-13%20LEASE.mp3',
        name: 'LEASE'
      },
      {
        url: 'https://file.garden/aABDpAgY3QmuIiLd/1-16%20KYO.mp3',
        name: 'KYO'
      },
      {
        url: 'https://file.garden/aABDpAgY3QmuIiLd/1-21%20Yuu.mp3',
        name: 'Yuu'
      },
      {
        url: 'https://file.garden/aABDpAgY3QmuIiLd/DEATHCAMP.mp3',
        name: 'DEATHCAMP'
      },
      {
        url: '',
        name: 'Silence'
      }
    ];
    let currentTrack = 0;
    let audio = new Audio(musicFiles[currentTrack].url);
    let isLooping = false;
    let isMuted = false;
    let isPlaying = true;

    audio.loop = false;
    currentSongDisplay.textContent = musicFiles[currentTrack].name;

    loopButton.addEventListener('click', () => {
      isLooping = !isLooping;
      audio.loop = isLooping;
      loopButton.textContent = isLooping ? 'Loop On' : 'Loop Off';
    });

    volumeSlider.addEventListener('input', () => {
      audio.volume = volumeSlider.value;
    });

    muteButton.addEventListener('click', () => {
      isMuted = !isMuted;
      audio.muted = isMuted;
      muteButton.textContent = isMuted ? 'Unmute' : 'Mute';
    });

    playPauseButton.addEventListener('click', () => {
      if (isPlaying) {
        audio.pause();
        playPauseButton.textContent = '‚ñ∑';
      } else {
        audio.play();
        playPauseButton.textContent = '‚ùö‚ùö';
      }
      isPlaying = !isPlaying;
    });

    audio.addEventListener('ended', () => {
      if (!is
